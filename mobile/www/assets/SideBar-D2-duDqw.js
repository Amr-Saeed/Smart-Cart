import{j as e,L as x,r as o,H as g}from"./index-_dVvynX1.js";function f({product:a,setIsOpen:r}){return e.jsx("button",{"aria-label":"open-product",children:e.jsx("li",{children:e.jsxs(x,{to:`/product/${a.id}`,className:"flex items-center gap-3",onClick:()=>r(!1),children:[e.jsx("img",{loading:"lazy",src:a.imageUrl,alt:a.name,className:"w-20 h-20 object-contain rounded-lg"}),e.jsx("span",{className:"text-[var(--main-color)] font-bold",children:a.name})]})},a.id)})}function u({category:a,categoryProducts:r,setIsOpen:n}){const[c,m]=o.useState(null),l=c===a.category,s=o.useMemo(()=>r.find(i=>i.category.replace(/ and /g," & ")===a.category),[r,a.category]),t=o.useMemo(()=>(s==null?void 0:s.products)||[],[s]);return e.jsxs("li",{className:"menu-item !pr-4 !pl-4  rounded-2xl md:w-full !mb-[55px] w-[130%]",children:[e.jsxs("button",{"aria-label":"open-category",className:"bg-[var(--main-color)] w-full h-14 flex items-center gap-2.5 text-[1rem] md:text-[1.125rem] leading-5 font-bold text-[var(--main-color-2)] rounded-[18px]",onClick:()=>m(l?null:a.category),children:[e.jsx("img",{loading:"lazy",src:a.img,alt:a.category,className:"md:w-[6rem] w-[4rem] object-contain translate-y-[-13%] "}),a.category]}),l&&(t.length>0?e.jsx("ul",{className:" shadow-2xl !p-4 rounded-2xl flex flex-col",children:t.map(i=>e.jsx(f,{product:i,setIsOpen:n},i.id))}):e.jsx("p",{className:"text-gray-500",children:"No products available"}))]})}function h({isOpen:a,setIsOpen:r,products:n}){console.log("ðŸ‘€ SideBar component loaded");const c=o.useMemo(()=>!n||n.length===0?[]:n.reduce((l,s)=>{const t=s.category.replace(/ and /g," & ");if(t==="Meat & Poultry"){if(!l.some(d=>d.category==="Meat & Poultry")&&s.id===11)return[...l,{category:t,img:s.imageUrl}]}else if(t==="Fruits & Vegetables"){if(!l.some(d=>d.category==="Fruits & Vegetables")&&s.id===7)return[...l,{category:t,img:s.imageUrl}]}else if(!l.map(i=>i.category).includes(t))return[...l,{category:t,img:s.imageUrl}];return l},[]),[n]),m=o.useMemo(()=>!n||n.length===0?[]:c.map(l=>({category:l.category,products:n.filter(s=>s.category.replace(/ and /g," & ")===l.category)})),[c,n]);return n===null?null:(console.log("ðŸ‘€ SideBar component loadedssssssss"),e.jsx("div",{className:`drawer ${a?"open":""}`,children:e.jsxs("div",{className:"drawer-content",children:[a&&e.jsx("div",{className:"drawer-overlay fixed inset-0 ",onClick:()=>r(!1)}),e.jsxs("div",{className:`drawer-side w-full max-h-screen overflow-y-scroll !p-10 lg:w-[40%] md:w-[60%] bg-base-200 text-base-content min-h-full fixed top-0 left-0 transition-transform ${a?"translate-x-0":"-translate-x-full"}`,children:[e.jsxs("header",{className:"sideBarHeader ",children:[e.jsx("button",{"aria-label":"close-SideBar",className:"w-full h-14 flex items-center justify-end ",onClick:()=>r(!1),children:e.jsx(g,{className:"bx bx-x text-3xl"})}),e.jsxs("div",{className:"sideBarContent",children:[e.jsx("h2",{className:"text-[1.4rem] text-[var(--main-color-2)] font-extrabold !mb-[5px]",children:"Start Shopping!"}),e.jsx("h3",{className:"text-gray-700 font-normal text-sm !mb-8",children:"By Categories"})]})]}),e.jsx("nav",{children:e.jsx("ul",{className:"menu flex-col flex items-center w-full",children:c.map(l=>e.jsx(u,{category:l,categoryProducts:m,setIsOpen:r},l.category))})})]})]})}))}const y=o.memo(h);export{y as default};
